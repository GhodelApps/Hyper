language: android
jdk: oraclejdk8
env:
  matrix:
  - ANDROID_BUILD_TOOLS_VERSION=25.0.1 ANDROID_API_LEVEL=25
  global:
    secure: ANuK99R514P6uRpt/zK23WMPj0QxEyzOZRymOqKqjZVp+YAj6hXayDhMwwPc2RkmH+psVwjBqFMxw1YnovaQrX9rjR0O+FoAnYQIeQZRTCrDC565Vn9GjqBMSk31nFjzcCNKpZriwzRAf3DATE6//sMpJA3RYaslhzNL5Vyq+d7bCE/S1z9LP4Bu6k4nPSvmRvamzvMFzKjkdYz1ix/Ct61d+ag1WYEwmScXIQKWHY0swKKdsUMFTUKoCu8Xrd9HqoHm+1kGl5unG6hjsZ/YxKM7XjOoMlIvVA+WQFIrLpiAngEHWLdyUFLw8tXZnJvjVVlRjagCrvhmEg57ZCQxWzCpLYzpsx0DaN839OrNxAAJ7pIorhLp4yLLzwXLkJkFX29mxUVhCZO0ToBNc/yRMSttQqe9IGRGij4goDnTZAEqNHDcoVVADkoPgTDAENpB+HiI/BurhZZwB9s6EA6o7xuYOqTV2u2pTVr8w5TkLMQdRdMNNQ8xgC2jnPOudifluY+bj2Tkxcc6+g+H/nv8kXUHDGnqy4d1kiVl1Urs2NH8d40mBX+EYXbmLZMIbEVnIhv8hEd9zjEkmju6DDF18Np8v7zT7YSuCKhS5Zn0vzBckEE7CkFDkW0ZFLit0OszKiUaAtwlegWD2RmZJLGP+Uxww6/dWiJ/TAPGxgi8mOY=
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -rf $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
android:
  components:
  - platform-tools
  - tools
  - build-tools-$ANDROID_BUILD_TOOLS_VERSION
  - android-$ANDROID_API_LEVEL
  - extra-android-m2repository
  - extra-google-m2repository
script:
- "./opt/src/cute_ghosts"
- "./gradlew assemble jacocoTestReport"
notifications:
  email: false
after_success:
- bash <(curl -s https://codecov.io/bash)
- "./opt/src/cute_ghosts"
- "./opt/src/update_apk"
